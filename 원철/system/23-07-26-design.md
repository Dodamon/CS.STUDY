# 디자인 패턴

작성일시: 2023년 7월 18일 오후 10:10
확인: No

### 1. 디자인 패턴이란 무엇인가?

**`디자인패턴`**: 디자인 패턴이란 기존 환경 내에서 반복적으로 일어나는 문제들을 어떻게 풀어나갈 것인가에 대한 일종의 솔루션 같은 것

- **디자인 패턴**은 설계자들이 **"올바른"** 설계를 **"빨리"** 만들 수 있도록 도와준다는 것

### 1-1. MVC 패턴

---

: **`MVC`** 는 Model + View + Controller를 말한다

![Untitled](%E1%84%83%E1%85%B5%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AB%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%20475cf9c9dcda493abd5cc5fda1210869/Untitled.png)

**구조**

- **Model** : 어플리케이션에서 사용되는 데이터와 그 데이터를 처리하는 부분
- **View** : 사용자에서 보여지는 UI 부분
- **Controller** : 사용자의 입력(Action)을 받고 처리하는 부분

**동작방식**

1. 사용자의 Action들은 Controller에 들어오게 된다
2. Controller가 사용자의 Action를 확인하고, Model을 업데이트한다
3. Controller가 Model을 나타내줄 View를 선택한다
4. View가 Model을 이용하여 화면을 나타낸다

**특징**

- Controller는 여러개의 View를 선택할 수 있는 1:N 구조이다
- Controller는 View를 선택할 뿐 직접 업데이트 하지 않는다 (View는 Controller를 알지 못함.)

**장점**

- **MVC 패턴의 장점**은 널리 사용되고 있는 패턴이라는 점에 걸맞게 **가장 단순**하고, 단순하다 보니 **보편적으로 많이 사용**되는 디자인패턴

**단점**

- View와 Model 사이의 의존성이 높다.
- View와 Model의 높은 의존성은 어플리케이션이 커질 수록 복잡하지고 유지보수가 어렵게 만들 수 있다.

![Untitled](%E1%84%83%E1%85%B5%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AB%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%20475cf9c9dcda493abd5cc5fda1210869/Untitled%201.png)

### 1-2. MVVM 패턴

---

: **`MVVM`** 은 **M**odel, **V**iew, **V**iew **M**odel를 말하며, Model과 View은 다른 패턴과 동일하다.

**구조**

- **Model** : 어플리케이션에서 사용되는 데이터와 그 데이터를 처리하는 부분
- **View** : 사용자에서 보여지는 UI 부분
- **View Model** : View를 나타내 주기 위한 Model이자 View를 나타내기 위한 데이터 처리를 하는 부분

**동작방식**

1. 사용자의 Action이 View를 통해 들어온다
2. View에 Action이 들어오면, Command 패턴으로 View Model에 Action을 전달한다
3. View Model은 Model에게 데이터를 요청한다
4. Model은 View Model에게 요청받은 데이터를 응답한다
5. View Model은 응답 받은 데이터를 가공하여 저장한다
6. View는 View Model과 Data Binding하여 화면을 나타낸다

**특징**

**MVVM 패턴**은 Command 패턴과 Data Binding 두 가지 패턴을 사용하여 구현되었다.

Command 패턴과 Data Binding을 이용하여 View와 View Model 사이의 의존성을 없앴다

View Model과 View는 1:n 관계이다

**장점**

**MVVM 패턴**은 View와 Model 사이의 **의존성이 없으**며, **Command 패턴**과 **Data Binding을 사용**하여 **View와 View Model 사이의 의존성도 없앤 디자인패턴**이다. 즉 각각의 부분이 독립적이기 때문에 모듈화 하여 개발할 수 있다.

**단점**

- View Model의 설계가 어렵다

### 1-3. FLUX 패턴 (React)

---

: **`FLUX`** 패턴 페이스북*(현 메타)*에서 **MVC 모델의 단점을 보완**하기 위해 발표한 애플리케이션 아키텍처이다.

: **`FLUX`** 패턴은 **단방향 데이터 흐름**을 **유지하는 아키텍처 디자인 패턴**이다. 사용자의 입력을 기반으로 Action을 만들고, Action을 Dispatcher에 전달하여 Store의 데이터를 변경한 뒤 View에 반영하게 된다.

![Untitled](%E1%84%83%E1%85%B5%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AB%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%20475cf9c9dcda493abd5cc5fda1210869/Untitled%202.png)

**구조와 동작 방식**

- **Action**:  애플리케이션에서 일어나는 이벤트를 나타내는 객체이며, Action creator 메서드는 새로 발생한 action의 type과 새로운 데이터(payload)를 묶어 Dispatcher에게 전달
- **Dispatcher**: Action을 받아서 Store에 전달하는 역할(=모든 데이터의 흐름을 관리하는 중앙 허브), Store의 데이터를 조작하는 것은 오직 Dispatcher만 가능하다.
- **Store** : 애플리케이션의 모든 상태와 로직을 가지고 있고, Store의 state 변경이 완료되면 변경된 상태를 View에 전달
- **View**: Flux의 View는 MVC의 View와는 달리 Store에서 데이터를 가져오는 한편 데이터를 자식 View로 전달하기도 하는 일종의 View-Controller로 보아야 한다.
    
    (=리액트의 컴포넌트)
    

**동작방식**

1. 사용자의 Action이 View를 통해 들어온다
2. View에 Action이 들어오면, Command 패턴으로 View Model에 Action을 전달한다
3. View Model은 Model에게 데이터를 요청한다
4. Model은 View Model에게 요청받은 데이터를 응답한다
5. View Model은 응답 받은 데이터를 가공하여 저장한다
6. View는 View Model과 Data Binding하여 화면을 나타낸다

**특징**

- Flux 패턴은 페이스북에서 React를 개발할 때 사용한 아키텍처 디자인 중 하나이다. 단방향 데이터 흐름을 유지하므로, **React와 같은 뷰 라이브러리와 함께 사용될 때 일관성 있는 데이터 흐름을 구현하는데 매우 유용**하다.
- **Redux는 Flux 아키텍처 디자인 패턴을 기반으로 한 라이브러리**이다.
- Redux는 애플리케이션의 상태를 하나의 Store에 중앙 집중적으로 관리하고, 이 Store에서 상태를 변경하는 모든 작업은 Action을 통해 수행된다. 변경된 상태는 Store에서 구독하고 있는 모든 구독자에게 전달되어 UI가 업데이트된다.
- Flux 패턴과 Redux는 모두 **단방향 데이터 흐름을 사용하여 데이터의 일관성과 예측 가능성을 유지하며, 모든 상태 변경이 불변성을 유지하도록 구현**된다. 이러한 구조는 **React와 함께 사용될 때, 웹 애플리케이션의 복잡성을 낮추고 유지 보수성을 높이는데 도움이 된다.**

**장점**

- React와 같은 뷰 라이브러리와 함께 사용될 때 일관성 있는 데이터 흐름을 구현하는데 매우 유용
- `Flux` 패턴은 단방향 데이터 흐름으로 인해 상태 변화에 대한 예측 가능성을 높여주기 때문에, 대규모 프로젝트에서 유용하게 사용

**단점**

- `Flux` 패턴은 단방향 데이터 흐름으로 인해 코드량이 많아지고, 복잡도가 증가할 수 있다. 또한, 한 개 이상의 `store` 를 사용할 때, `store` 간의 의존성이 발생할 수 있으며 이를 해결하기 위해서는 추가적인 로직이 필요하다.
- 이를 위해, `Redux`에서는 `reducer` 함수를 사용하여 상태를 변경하는 로직을 구현하고, `React`에서는 `useReducer`를 사용하여 `Flux` 패턴을 쉽게 활용할 수 있도록 일부분 보완하였다.

### 추가

- **아키텍쳐 디자인 vs 디자인 패턴**
    
    지금까지 자주 접한 단어인 아키텍처 디자인과 디자인 패턴은 둘 다 디자인이라는 단어가 들어간다. 그렇다면 같은 의미인 걸까? 정답은 아니다.
    
    정확히 말하자면 MVC는 애플리케이션의 구성 요소를 세 가지 역할(Model, View, Controller)로 나눈 **아키텍처 디자인 패턴**이고, Flux는 단방향 데이터 흐름을 구현하는데 사용되는 **디자인 패턴**이다.
    
    아키텍처 디자인은 **전체 시스템의 구조와 구성 요소 간의 관계를 설계**하는 것을 의미하며, 대표적인 예로는 MVC 등이 있다.
    
    디자인 패턴은 **소프트웨어 개발 시 특정 상황에서 자주 발생하는 문제를 해결하는 패턴을 쉽게 재사용할 수 있도록 추상화**한 것이다. 대표적인 예로는 Singleton, Observer 등이 있다.
    

### 받았던 관련 면접질문

---

Q1. 디자인 패턴이 뭔지 설명해봐라

Q2. FLUX 패턴이 뭔지는 아는가, 또 이 패턴에 따라 프로젝트를 진행해보았는가?